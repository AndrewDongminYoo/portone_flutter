<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1, user-scalable=no"
    />
    <meta
      name="description"
      content="portone_flutter_v2 API docs, for the Dart programming language."
    />
    <title>portone_flutter_v2 - Dart API docs</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="static-assets/github.css?v1" />
    <link rel="stylesheet" href="static-assets/styles.css?v1" />
    <link rel="icon" href="static-assets/favicon.png?v1" />
  </head>

  <body data-base-href="" data-using-base-href="false" class="light-theme">
    <div id="overlay-under-drawer"></div>
    <header id="title">
      <span
        id="sidenav-left-toggle"
        class="material-symbols-outlined"
        role="button"
        tabindex="0"
        >menu</span
      >
      <ol class="breadcrumbs gt-separated dark hidden-xs">
        <li class="self-crumb">portone_flutter_v2 package</li>
      </ol>
      <div class="self-name">portone_flutter_v2</div>
      <form class="search navbar-right" role="search">
        <input
          type="text"
          id="search-box"
          autocomplete="off"
          disabled
          class="form-control typeahead"
          placeholder="Loading search..."
        />
      </form>
      <div class="toggle" id="theme-button" title="Toggle brightness">
        <label for="theme">
          <input type="checkbox" id="theme" value="light-theme" />
          <span id="dark-theme-button" class="material-symbols-outlined">
            dark_mode
          </span>
          <span id="light-theme-button" class="material-symbols-outlined">
            light_mode
          </span>
        </label>
      </div>
    </header>
    <main>
      <div id="dartdoc-main-content" class="main-content">
        <section class="desc markdown">
          <h1 id="portone-flutter-v2">PortOne Flutter V2</h1>
          <p>
            <a href="https://pub.dev/packages/very_good_analysis"
              ><img
                src="https://img.shields.io/badge/style-very_good_analysis-B22C89.svg"
                alt="style: very good analysis"
            /></a>
            <a href="https://opensource.org/licenses/MIT"
              ><img
                src="https://img.shields.io/badge/license-MIT-blue.svg"
                alt="License: MIT"
            /></a>
          </p>
          <p>
            A robust Flutter package enabling seamless integration of the
            PortOne V2 payment gateway into Flutter applications. Designed for
            simplicity and flexibility, it leverages PortOne's browser SDK,
            providing an intuitive payment workflow directly within your app
            using Flutter's InAppWebView.
          </p>
          <blockquote>
            <p>
              <strong>Important Note:</strong> This is a community-maintained
              package and is not officially affiliated with PortOne.
            </p>
          </blockquote>
          <h2 id="-key-features">üì¶ Key Features</h2>
          <ul>
            <li>
              <p>
                <strong>Integrated Payment Flow:</strong> Simplified embedding
                of PortOne's payment gateway via a customizable WebView
                interface.
              </p>
            </li>
            <li>
              <p>
                <strong>Flexible Payment Methods:</strong> Supports all major
                payment methods provided by PortOne (credit/debit cards, virtual
                accounts, mobile payments, etc.).
              </p>
            </li>
            <li>
              <p>
                <strong>Deep-Link Handling:</strong> Automatic deep-link
                handling for payment completion callbacks using custom app
                schemes.
              </p>
            </li>
            <li>
              <p>
                <strong>Customizable UI:</strong> Easily configure your loading
                state UI and customize the payment experience.
              </p>
            </li>
            <li>
              <p>
                <strong>Comprehensive Error Management:</strong> Provides clear
                error handling through callbacks for debugging and user
                feedback.
              </p>
            </li>
          </ul>
          <h2 id="-getting-started">üöÄ Getting Started</h2>
          <h3 id="installation-">Installation üíª</h3>
          <p>
            <strong
              >‚ùó Requirements:
              <a href="https://docs.flutter.dev/get-started/install"
                >Flutter SDK</a
              >
              installed on your machine.</strong
            >
          </p>
          <p>Add the dependency to your <code>pubspec.yaml</code>:</p>
          <pre class="language-yaml"><code class="language-yaml">dependencies:
  portone_flutter_v2: ^1.0.3
</code></pre>
          <p>Or via command line:</p>
          <pre
            class="language-bash"
          ><code class="language-bash">flutter pub add portone_flutter_v2
</code></pre>
          <h3 id="platform-configuration">Platform Configuration</h3>
          <h4 id="android-androidmanifestxml">
            Android (<code>AndroidManifest.xml</code>):
          </h4>
          <p>
            Ensure your app requests internet permission and declares package
            visibility for payment-related apps:
          </p>
          <pre
            class="language-xml"
          ><code class="language-xml">&lt;uses-permission android:name="android.permission.INTERNET" /&gt;

&lt;queries&gt;
  &lt;!-- Include other required payment apps --&gt;
  &lt;package android:name="com.ahnlab.v3mobileplus" /&gt;
  &lt;package android:name="com.eg.android.AlipayGphone" /&gt;
  &lt;package android:name="com.hanaskcard.paycla" /&gt;
  &lt;package android:name="com.hyundaicard.appcard" /&gt;
  &lt;package android:name="com.kakao.talk" /&gt;
  &lt;package android:name="com.kakaobank.channel" /&gt;
  &lt;package android:name="com.kbcard.cxh.appcard" /&gt;
  &lt;package android:name="com.kbstar.kbbank" /&gt;
  &lt;package android:name="com.kbstar.reboot" /&gt;
  &lt;package android:name="com.kftc.bankpay.android" /&gt;
  &lt;package android:name="com.kt.ktauth" /&gt;
  &lt;package android:name="com.lcacApp" /&gt;
  &lt;package android:name="com.lguplus.smartotp" /&gt;
  &lt;package android:name="com.lottemembers.android" /&gt;
  &lt;package android:name="com.nhn.android.search" /&gt;
  &lt;package android:name="com.nhnent.payapp" /&gt;
  &lt;package android:name="com.samsung.android.spay" /&gt;
  &lt;package android:name="com.shcard.smartpay" /&gt;
  &lt;package android:name="com.shinhan.sbanking" /&gt;
  &lt;package android:name="com.shinhan.smartcaremgr" /&gt;
  &lt;package android:name="com.sktelecom.tauth" /&gt;
  &lt;package android:name="com.tencent.mm" /&gt;
  &lt;package android:name="com.wooribank.smart.npib" /&gt;
  &lt;package android:name="com.wooricard.smartapp" /&gt;
  &lt;package android:name="jp.naver.line.android" /&gt;
  &lt;package android:name="kr.co.citibank.citimobile" /&gt;
  &lt;package android:name="kr.co.samsungcard.mpocket" /&gt;
  &lt;package android:name="kr.co.shiftworks.vguardweb" /&gt;
  &lt;package android:name="kvp.jjy.MispAndroid320" /&gt;
  &lt;package android:name="net.ib.android.smcard" /&gt;
  &lt;package android:name="nh.smart.card" /&gt;
  &lt;package android:name="nh.smart.nhallonepay" /&gt;
  &lt;package android:name="viva.republica.toss" /&gt;
&lt;/queries&gt;
</code></pre>
          <h4 id="ios-infoplist">iOS (<code>Info.plist</code>):</h4>
          <p>Add required URL schemes for payments and deep linking:</p>
          <pre
            class="language-xml"
          ><code class="language-xml">&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;
&lt;array&gt;
  &lt;!-- Include payment-related schemes you need --&gt;
  &lt;string&gt;alipays&lt;/string&gt;
  &lt;string&gt;ansimclickipcollect&lt;/string&gt;
  &lt;string&gt;ansimclickscard&lt;/string&gt;
  &lt;string&gt;chaipayment&lt;/string&gt;
  &lt;string&gt;citicardappkr&lt;/string&gt;
  &lt;string&gt;citimobileapp&lt;/string&gt;
  &lt;string&gt;citispay&lt;/string&gt;
  &lt;string&gt;cloudpay&lt;/string&gt;
  &lt;string&gt;com.wooricard.wcard&lt;/string&gt;
  &lt;string&gt;hanamopmoasign&lt;/string&gt;
  &lt;string&gt;hanawalletmembers&lt;/string&gt;
  &lt;string&gt;hdcardappcardansimclick&lt;/string&gt;
  &lt;string&gt;hyundaicardappcardid&lt;/string&gt;
  &lt;string&gt;ispmobile&lt;/string&gt;
  &lt;string&gt;itms-apps&lt;/string&gt;
  &lt;string&gt;kakaobank&lt;/string&gt;
  &lt;string&gt;kakaokompassauth&lt;/string&gt;
  &lt;string&gt;kakaolink&lt;/string&gt;
  &lt;string&gt;kakaoplus&lt;/string&gt;
  &lt;string&gt;kakaotalk&lt;/string&gt;
  &lt;string&gt;kb-acp&lt;/string&gt;
  &lt;string&gt;kb-auth&lt;/string&gt;
  &lt;string&gt;kb-screen&lt;/string&gt;
  &lt;string&gt;kbbank&lt;/string&gt;
  &lt;string&gt;kftc-bankpay&lt;/string&gt;
  &lt;string&gt;ktauthexternalcall&lt;/string&gt;
  &lt;string&gt;lguthepay-xpay&lt;/string&gt;
  &lt;string&gt;liivbank&lt;/string&gt;
  &lt;string&gt;line&lt;/string&gt;
  &lt;string&gt;lmslpay&lt;/string&gt;
  &lt;string&gt;lotteappcard&lt;/string&gt;
  &lt;string&gt;lottesmartpay&lt;/string&gt;
  &lt;string&gt;lpayapp&lt;/string&gt;
  &lt;string&gt;mailto&lt;/string&gt;
  &lt;string&gt;monimopay&lt;/string&gt;
  &lt;string&gt;monimopayauth&lt;/string&gt;
  &lt;string&gt;mpocket.online.ansimclick&lt;/string&gt;
  &lt;string&gt;naversearchthirdlogin&lt;/string&gt;
  &lt;string&gt;newliiv&lt;/string&gt;
  &lt;string&gt;newsmartpib&lt;/string&gt;
  &lt;string&gt;NewSmartPib&lt;/string&gt;
  &lt;string&gt;nhallonepayansimclick&lt;/string&gt;
  &lt;string&gt;nhappcardansimclick&lt;/string&gt;
  &lt;string&gt;nonghyupcardansimclick&lt;/string&gt;
  &lt;string&gt;payco&lt;/string&gt;
  &lt;string&gt;samsungpay&lt;/string&gt;
  &lt;string&gt;scardcertiapp&lt;/string&gt;
  &lt;string&gt;shinhan-sr-ansimclick-lpay&lt;/string&gt;
  &lt;string&gt;shinhan-sr-ansimclick-mola&lt;/string&gt;
  &lt;string&gt;shinhan-sr-ansimclick-naverpay&lt;/string&gt;
  &lt;string&gt;shinhan-sr-ansimclick-payco&lt;/string&gt;
  &lt;string&gt;shinhan-sr-ansimclick&lt;/string&gt;
  &lt;string&gt;shinsegaeeasypayment&lt;/string&gt;
  &lt;string&gt;smailapp&lt;/string&gt;
  &lt;string&gt;smhyundaiansimclick&lt;/string&gt;
  &lt;string&gt;sms&lt;/string&gt;
  &lt;string&gt;smshinhanansimclick&lt;/string&gt;
  &lt;string&gt;supertoss&lt;/string&gt;
  &lt;string&gt;tauthlink&lt;/string&gt;
  &lt;string&gt;ukbanksmartbanknonloginpay&lt;/string&gt;
  &lt;string&gt;upluscorporation&lt;/string&gt;
  &lt;string&gt;v3mobileplusweb&lt;/string&gt;
  &lt;string&gt;vguardstart&lt;/string&gt;
  &lt;string&gt;weixin&lt;/string&gt;
  &lt;string&gt;wooripay&lt;/string&gt;
&lt;/array&gt;

&lt;key&gt;CFBundleURLTypes&lt;/key&gt;
&lt;array&gt;
  &lt;dict&gt;
    &lt;key&gt;CFBundleTypeRole&lt;/key&gt;
    &lt;string&gt;Editor&lt;/string&gt;
    &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
    &lt;array&gt;
      &lt;!-- PaymentRequest.appScheme --&gt;
      &lt;string&gt;yourappscheme&lt;/string&gt;
    &lt;/array&gt;
  &lt;/dict&gt;
&lt;/array&gt;
</code></pre>
          <p>
            Replace <code>yourappscheme</code> with your application's custom
            scheme used for deep-linking.
          </p>
          <h2 id="-usage-example">üîß Usage Example</h2>
          <p>
            Here‚Äôs a concise example demonstrating how to implement the payment
            flow:
          </p>
          <pre
            class="language-dart"
          ><code class="language-dart">import 'package:flutter/material.dart';

import 'package:portone_flutter_v2/portone_flutter_v2.dart';

class PaymentScreen extends StatelessWidget {
  const PaymentScreen({super.key, required this.paymentId});
  final String paymentId;

  @override
  Widget build(BuildContext context) {
    final paymentRequest = PaymentRequest(
      storeId: 'store-00000000-0000-0000-0000-000000000000',
      paymentId: paymentId,
      orderName: 'Product Name',
      totalAmount: 10000,
      currency: PaymentCurrency.KRW,
      channelKey: 'channel-key-00000000-0000-0000-0000-000000000000',
      payMethod: PaymentPayMethod.card,
      appScheme: 'yourappscheme',  // Your app's URL scheme
    );

    return Scaffold(
      appBar: AppBar(title: const Text('Make a Payment')),
      body: PortonePayment(
        data: paymentRequest,
        initialChild: const Center(child: CircularProgressIndicator()),
        callback: (PaymentResponse result) {
          // Handle successful payment
          debugPrint('Payment Success: ${result.toJson()}');
          Navigator.pop(context, result);
        },
        onError: (Object? error) {
          // Handle payment error
          debugPrint('Payment Error: $error');
          Navigator.pop(context, null);
        },
      ),
    );
  }
}

</code></pre>
          <h3 id="handling-the-payment-result">Handling the Payment Result:</h3>
          <pre
            class="language-dart"
          ><code class="language-dart">// Navigate to payment screen and wait for result
final result = await Navigator.push(
  context,
  MaterialPageRoute(builder: (context) =&gt; const PaymentScreen()),
);

if (result != null) {
  // Payment succeeded
  final response = result as PaymentResponse;
  debugPrint('Transaction successful: ${response.paymentId}');
} else {
  // Payment failed or was cancelled
  debugPrint('Payment was cancelled or encountered an error.');
}

</code></pre>
          <h2 id="-package-internal-logic">üîç Package Internal Logic</h2>
          <p>Internally, this package:</p>
          <ul>
            <li>
              Uses <code>flutter_inappwebview</code> to embed PortOne's browser
              SDK securely.
            </li>
            <li>
              Dynamically constructs and loads the payment initiation HTML with
              user-provided payment details.
            </li>
            <li>
              Implements deep-link callbacks using custom URL schemes
              (<code>appScheme</code>) via <code>app_links</code>.
            </li>
            <li>
              Manages redirects and payment results by intercepting URL
              navigations and intents, offering a streamlined mobile payment
              experience.
            </li>
          </ul>
          <h2 id="-supported-payment-methods">üß© Supported Payment Methods</h2>
          <p>
            The package supports multiple payment methods via PortOne's V2 SDK:
          </p>
          <ul>
            <li>‚úÖ Credit/Debit Cards</li>
            <li>‚úÖ Virtual Account Transfers</li>
            <li>
              ‚úÖ Mobile Payment Platforms (e.g., Samsung Pay, KakaoPay, Toss,
              etc.)
            </li>
          </ul>
          <p>
            Check <code>PaymentPayMethod</code> enum in the package for detailed
            options.
          </p>
          <h2 id="-example-app">üìÇ Example App</h2>
          <p>
            Check the <code>/example</code> directory for a fully-functional
            integration demo with detailed implementation steps.
          </p>
          <h2 id="-contributing">ü§ù Contributing</h2>
          <p>
            Your contributions can enhance this open-source project. You can
            help by:
          </p>
          <ul>
            <li>Reporting issues or suggesting enhancements.</li>
            <li>Improving documentation and clarity.</li>
            <li>
              Submitting pull requests for bug fixes or additional features.
            </li>
          </ul>
          <p>See the contributing guidelines before opening pull requests.</p>
          <h2 id="-testing--code-coverage">üß™ Testing &amp; Code Coverage</h2>
          <p>Execute unit tests:</p>
          <pre
            class="language-bash"
          ><code class="language-bash">flutter test --test-randomize-ordering-seed random
</code></pre>
          <p>For detailed coverage reports:</p>
          <pre
            class="language-bash"
          ><code class="language-bash">flutter test --coverage --test-randomize-ordering-seed random
genhtml coverage/lcov.info -o coverage/
open coverage/index.html
</code></pre>
          <h2 id="-license">üìú License</h2>
          <p>
            MIT License - see
            <a href="https://opensource.org/licenses/MIT">LICENSE</a>.
          </p>
          <hr />
        </section>

        <section class="summary">
          <h2>Libraries</h2>
          <dl>
            <dt id="portone_flutter_v2">
              <span class="name"
                ><a href="portone_flutter_v2">portone_flutter_v2</a></span
              >
            </dt>
            <dd>
              A module for integrating PortOne V2 payment service in Flutter
              App.
            </dd>
          </dl>
        </section>
      </div>
      <!-- /.main-content -->
      <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
        <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
        <header id="header-search-sidebar" class="hidden-l">
          <form class="search-sidebar" role="search">
            <input
              type="text"
              id="search-sidebar"
              autocomplete="off"
              disabled
              class="form-control typeahead"
              placeholder="Loading search..."
            />
          </form>
        </header>
        <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
          <li class="self-crumb">portone_flutter_v2 package</li>
        </ol>

        <h5 class="hidden-xs">
          <span class="package-name">portone_flutter_v2</span>
          <span class="package-kind">package</span>
        </h5>
        <ol>
          <li class="section-title">Libraries</li>
          <li><a href="portone_flutter_v2">portone_flutter_v2</a></li>
        </ol>
      </div>
      <div
        id="dartdoc-sidebar-right"
        class="sidebar sidebar-offcanvas-right"
      ></div>
    </main>
    <footer>
      <span class="no-break"> portone_flutter_v2 1.0.3 </span>
    </footer>

    <script src="static-assets/highlight.pack.js?v1"></script>
    <script src="static-assets/docs.dart.js"></script>
  </body>
</html>
